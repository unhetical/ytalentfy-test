<div class="px-5 pt-5 main-module">
  <!-- Last session -->
  <div class="card-last-session">
    <p-card>
      <h3 class="card-last-session-title">Vuelve donde lo dejaste</h3>
      <p class="card-last-session-subtitle">2º Trimestre - Sesión 25, Ordinales, Fracciones y Decimales</p>

      <div class="pt-1">
        <p-button
          label="Reproducción ordenada"
          icon="pi pi-play"
          class="mr-3"
          (click)="playLesson($event)"
        ></p-button>
        <button
          pButton
          pRipple
          type="button"
          label="Aleatorio"
          class="p-button-outlined mr-3 mt-2"
          icon="pi pi-align-center"
          (click)="randomLesson($event)"
        ></button>
        <button
          pButton
          pRipple
          type="button"
          label="Siguiente sesión"
          class="p-button-outlined mr-3 mt-2"
          icon="pi pi-arrow-right"
          (click)="nextLesson($event)"
        ></button>
      </div>
    </p-card>
  </div>

  <div class="pt-5">
    <h3 class="syllabus-title">Temario</h3>
    <!-- Estas tarjetas se podrían extraer a un componente reutilizable -->
    <div class="d-flex pt-3 card-syllabus">
      <p-card
        *ngFor="let trimester of sessionList; let i = index"
        class="pb-4 pr-4"
      >
        <div class="mr-2">
          <h3 class="card-syllabus-title mb-0">{{ trimester?.name }}</h3>
          <p class="card-syllabus-subtitle mb-0">
            {{ trimester?.done }}/{{ trimester?.lessons?.length }} sesiones
          </p>
        </div>
        <div class="d-flex align-items-center">
          <!-- TODO: check icon -->
          <p-chart
            *ngIf="!sessionList[i].completed; else iconTemplate"
            type="pie"
            [data]="chartData[i]"
            [responsive]="true"
            [maintainAspectRatio]="false"
            [height]="'48px'"
            [width]="'58px'"
          ></p-chart>

          <ng-template #iconTemplate>
            <button
              pButton
              pRipple
              type="button"
              icon="pi pi-check"
              class="p-button-rounded check mx-1"
              style="height: 40px; width: 40px;"
            ></button>
          </ng-template>
        </div>
      </p-card>
    </div>
  </div>
</div>
